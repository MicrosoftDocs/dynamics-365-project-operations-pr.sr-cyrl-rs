---
title: Конфигурисање аутоматског креирања фактуре – једноставно
description: Ова тема пружа информације о конфигурисању аутоматског креирања предрачуна.
author: rumant
manager: Annbe
ms.date: 10/13/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 1d911ab0defaaee40d8752557e1115ea49c8fa93
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 02/15/2021
ms.locfileid: "5274341"
---
# <a name="configure-automatic-invoice-creation---lite"></a><span data-ttu-id="2f488-103">Конфигурисање аутоматског креирања фактуре – једноставно</span><span class="sxs-lookup"><span data-stu-id="2f488-103">Configure automatic invoice creation - lite</span></span>
 
<span data-ttu-id="2f488-104">_**Односи се на:** Једноставна примена – од погодбе до профактуре_</span><span class="sxs-lookup"><span data-stu-id="2f488-104">_**Applies To:** Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="2f488-105">Можете да конфигуришете аутоматско креирање фактура у услузи Dynamics 365 Project Operations.</span><span class="sxs-lookup"><span data-stu-id="2f488-105">You can configure automatic invoice creation in Dynamics 365 Project Operations.</span></span> <span data-ttu-id="2f488-106">Систем креира нацрт предрачуна на основу распореда фактура за сваки уговор о пројекту и предмет уговора.</span><span class="sxs-lookup"><span data-stu-id="2f488-106">The system creates a draft proforma invoice based on the invoice schedule for each project contract and contract line.</span></span> <span data-ttu-id="2f488-107">Распореди фактура се конфигуришу на нивоу предмета уговора.</span><span class="sxs-lookup"><span data-stu-id="2f488-107">Invoice schedules are configured at the contract line level.</span></span> <span data-ttu-id="2f488-108">Свака линија уговора може имати различит распоред фактура или исти распоред фактура може бити укључен у сваки ред уговора.</span><span class="sxs-lookup"><span data-stu-id="2f488-108">Each line on a contract can have a distinct invoice schedule, or the same invoice schedule can be included on every line of the contract.</span></span>

<span data-ttu-id="2f488-109">Када креирате фактуру, систем увек креира најмање једну фактуру по уговору о пројекту.</span><span class="sxs-lookup"><span data-stu-id="2f488-109">When you create an invoice, the system always creates at least one invoice per project contract.</span></span> <span data-ttu-id="2f488-110">У неким случајевима може бити направљено више фактура.</span><span class="sxs-lookup"><span data-stu-id="2f488-110">In some cases, there may be multiple invoices created.</span></span>

<span data-ttu-id="2f488-111">На пример, ако уговор има више клијената, створиће се исти број фактура као и број клијената који имају фактурисане трансакције за фактурисање на том уговору о пројекту.</span><span class="sxs-lookup"><span data-stu-id="2f488-111">For example, if the contract has multiple customers, the same number of invoices will be created as the number of customers that have billable transactions to invoice on that project contract.</span></span>

## <a name="understand-how-transactions-are-included-on-an-invoice"></a><span data-ttu-id="2f488-112">Схватите како су трансакције укључене у фактуру</span><span class="sxs-lookup"><span data-stu-id="2f488-112">Understand how transactions are included on an invoice</span></span> 

<span data-ttu-id="2f488-113">Понекад сваки предмет уговора заснованог на пројекту наводи засебан распоред фактура.</span><span class="sxs-lookup"><span data-stu-id="2f488-113">Sometimes, each project-based contract line specifies a separate invoice schedule.</span></span> <span data-ttu-id="2f488-114">На пример, услуге имплементације за Adatum уговор имају следеће предмете уговора:</span><span class="sxs-lookup"><span data-stu-id="2f488-114">For example, implementation services for the Adatum contract have the following contract lines:</span></span>

- <span data-ttu-id="2f488-115">Прототип рада који је фиксна цена са две ручно креиране контролне тачке.</span><span class="sxs-lookup"><span data-stu-id="2f488-115">Prototype work that is a fixed price with two manually created milestones.</span></span>
- <span data-ttu-id="2f488-116">Радови примене који укључују време и који ће се наплаћивати на две недеље понедељком.</span><span class="sxs-lookup"><span data-stu-id="2f488-116">Implementation work that includes Time and will be billed bi-weekly on Mondays.</span></span>
- <span data-ttu-id="2f488-117">Настали трошкови који треба да се обрачунавају месечно првог понедељка у месецу.</span><span class="sxs-lookup"><span data-stu-id="2f488-117">Expenses incurred that need to be billed monthly on the first Monday of each month.</span></span>

<span data-ttu-id="2f488-118">Распореди фактура дефинисани за сваку од ове две ставке поруџбина изгледају као следећа табела:</span><span class="sxs-lookup"><span data-stu-id="2f488-118">Invoice schedules defined on each of these two line items look like the following table:</span></span>

| <span data-ttu-id="2f488-119">Предмет уговора</span><span class="sxs-lookup"><span data-stu-id="2f488-119">Contract line</span></span> | <span data-ttu-id="2f488-120">Датум покретања фактурисања</span><span class="sxs-lookup"><span data-stu-id="2f488-120">Invoice run date</span></span> | <span data-ttu-id="2f488-121">Датум искључивања трансакције</span><span class="sxs-lookup"><span data-stu-id="2f488-121">Transaction cut-off date</span></span> | <span data-ttu-id="2f488-122">Датум контролне тачке</span><span class="sxs-lookup"><span data-stu-id="2f488-122">Milestone date</span></span> | <span data-ttu-id="2f488-123">Износ контролне тачке</span><span class="sxs-lookup"><span data-stu-id="2f488-123">Milestone amount</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="2f488-124">Прототип рада</span><span class="sxs-lookup"><span data-stu-id="2f488-124">Prototype work</span></span> | <span data-ttu-id="2f488-125">5. октобар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-125">October 5, Monday</span></span> | - | <span data-ttu-id="2f488-126">5. октобар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-126">October 5, Monday</span></span> | <span data-ttu-id="2f488-127">5000 USD</span><span class="sxs-lookup"><span data-stu-id="2f488-127">5000 USD</span></span> |
| - | <span data-ttu-id="2f488-128">3. новембар, уторак</span><span class="sxs-lookup"><span data-stu-id="2f488-128">November 3, Tuesday</span></span> | - | <span data-ttu-id="2f488-129">3. новембар, уторак</span><span class="sxs-lookup"><span data-stu-id="2f488-129">November 3, Tuesday</span></span> | <span data-ttu-id="2f488-130">12,000 USD</span><span class="sxs-lookup"><span data-stu-id="2f488-130">12,000 USD</span></span> |
| <span data-ttu-id="2f488-131">Рад примене</span><span class="sxs-lookup"><span data-stu-id="2f488-131">Implementation work</span></span> | <span data-ttu-id="2f488-132">5. октобар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-132">October 5, Monday</span></span> | <span data-ttu-id="2f488-133">4. октобар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-133">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="2f488-134">19. октобар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-134">October 19, Monday</span></span> | <span data-ttu-id="2f488-135">18. октобар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-135">October 18, Sunday</span></span> | - | - |
| - | <span data-ttu-id="2f488-136">2. новембар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-136">November 2, Monday</span></span> | <span data-ttu-id="2f488-137">1. новембар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-137">November 1, Sunday</span></span> | - | - |
| - | <span data-ttu-id="2f488-138">16. новембар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-138">November 16, Monday</span></span> | <span data-ttu-id="2f488-139">15. новембар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-139">November 15, Sunday</span></span> | - | - |
| <span data-ttu-id="2f488-140">Трошкови настали</span><span class="sxs-lookup"><span data-stu-id="2f488-140">Expenses incurred</span></span> | <span data-ttu-id="2f488-141">5. октобар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-141">October 5, Monday</span></span> | <span data-ttu-id="2f488-142">4. октобар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-142">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="2f488-143">2. новембар, понедељак</span><span class="sxs-lookup"><span data-stu-id="2f488-143">November 2, Monday</span></span> | <span data-ttu-id="2f488-144">1. новембар, недеља</span><span class="sxs-lookup"><span data-stu-id="2f488-144">November 1, Sunday</span></span> | - | - |

<span data-ttu-id="2f488-145">У овом примеру, када се покреће аутоматско фактурисање:</span><span class="sxs-lookup"><span data-stu-id="2f488-145">In this example when the automatic invoicing runs on:</span></span>

- <span data-ttu-id="2f488-146">**4. октобар или било који датум пре**: За овај уговор се не генерише фактура јер табела **Распоред фактура** за сваки од ових предмета уговора не позива 4. октобар, недељу као датум покретања фактурисања.</span><span class="sxs-lookup"><span data-stu-id="2f488-146">**October 4 or any date before**: No invoice is generated for this contract because the **Invoice Schedule** table for each of these contract lines doesn't call out October 4, Sunday as an invoice run date.</span></span>
- <span data-ttu-id="2f488-147">**5. октобар, понедељак**: Једна фактура се генерише за:</span><span class="sxs-lookup"><span data-stu-id="2f488-147">**October 5 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="2f488-148">Прототип рада који укључује контролну тачку, ако је означена као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-148">Prototype work that includes the milestone, if it is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="2f488-149">Рад примене који укључује све временске трансакције креиране пре датума пресека трансакције 4. октобра, недеља, означене као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-149">Implementation work that includes all Time transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="2f488-150">Настали трошкови који укључују све трансакције трошкова креиране пре датума пресека трансакције 4. октобра, недеља, означене као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-150">Expense incurred that includes all Expense transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
  
- <span data-ttu-id="2f488-151">**6. октобар или било који датум пре 19. октобра**: За овај уговор се не генерише фактура јер табела **Распоред фактура** за сваки од ових предмета уговора не позива 6. октобар нити било који датум пре 19. октобра као датум покретања фактурисања.</span><span class="sxs-lookup"><span data-stu-id="2f488-151">**On October 6 or any date before October 19**: No invoice is generated for this contract since the **Invoice Schedule** table for each of these contract lines does not call out October 6 or any date before October 19 as an invoice run date.</span></span>
- <span data-ttu-id="2f488-152">**19. октобар, понедељак**: Једна фактура се генерише за рад примене који укључује све временске трансакције креиране пре датума пресека трансакције 18. октобра, недеља, означене као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-152">**October 19, Monday**: One invoice is generated for implementation work that includes all Time transactions created before the transaction cut-off date of October 18, Sunday, that is marked as **Ready to Invoice**.</span></span>
- <span data-ttu-id="2f488-153">**2. новембар, понедељак**: Једна фактура се генерише за:</span><span class="sxs-lookup"><span data-stu-id="2f488-153">**November 2 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="2f488-154">Рад примене који укључује све временске трансакције креиране пре датума пресека трансакције 1. новембра, недеља, означене као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-154">Implementation work that includes all Time transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="2f488-155">Настали трошкови који укључују све трансакције трошкова креиране пре датума пресека трансакције 1. новембра, недеља, означене као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-155">Expense incurred that includes all Expense transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>

- <span data-ttu-id="2f488-156">**3. новембар, уторак**: Једна фактура се генерише за прототип рада који укључује контролну тачку за 12.000 USD, ако је означена као **Спремно за фактурисање**.</span><span class="sxs-lookup"><span data-stu-id="2f488-156">**November 3, Tuesday**: One invoice is generated for prototype work that includes the milestone for 12000 USD, if it is marked as **Ready to Invoice**.</span></span>

## <a name="configure-automatic-invoicing"></a><span data-ttu-id="2f488-157">Конфигуришите аутоматско фактурисање</span><span class="sxs-lookup"><span data-stu-id="2f488-157">Configure automatic invoicing</span></span>

<span data-ttu-id="2f488-158">Довршите следеће кораке да бисте конфигурисали аутоматско покретање фактура.</span><span class="sxs-lookup"><span data-stu-id="2f488-158">Complete the following steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="2f488-159">У одељку **Project Operations**, идите на **Подешавања** > **Подешавање периодичне фактуре**.</span><span class="sxs-lookup"><span data-stu-id="2f488-159">In **Project Operations**, go to **Settings** > **Recurring Invoice Setup**.</span></span>
2. <span data-ttu-id="2f488-160">Креирајте групни посао и именујте га **Креирање фактура у услузи Project Operations**.</span><span class="sxs-lookup"><span data-stu-id="2f488-160">Create a batch job, and name it **rPoject Operations Create Invoices**.</span></span> <span data-ttu-id="2f488-161">Назив групног посла мора да садржи речи „креирање фактура“.</span><span class="sxs-lookup"><span data-stu-id="2f488-161">The name of the batch job must include the words, "create invoices".</span></span>
3. <span data-ttu-id="2f488-162">У пољу **Тип посла** изаберите **Ниједан**.</span><span class="sxs-lookup"><span data-stu-id="2f488-162">In the **Job Type** field, select **None**.</span></span> <span data-ttu-id="2f488-163">Подразумевано се поља **Дневна учесталост** и **Је активна** подешавају на **Да**.</span><span class="sxs-lookup"><span data-stu-id="2f488-163">By default, the **Frequency Daily** and **Is Active** fields are set to **Yes**.</span></span>
4. <span data-ttu-id="2f488-164">Изаберите **Покрени ток посла**.</span><span class="sxs-lookup"><span data-stu-id="2f488-164">Select **Run Workflow**.</span></span> <span data-ttu-id="2f488-165">У дијалогу **Проналажење записа** ћете видети три тока посла:</span><span class="sxs-lookup"><span data-stu-id="2f488-165">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

- <span data-ttu-id="2f488-166">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="2f488-166">ProcessRunCaller</span></span>
- <span data-ttu-id="2f488-167">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="2f488-167">ProcessRunner</span></span>
- <span data-ttu-id="2f488-168">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="2f488-168">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="2f488-169">Изаберите **ProcessRunCaller**, а затим **Додај**.</span><span class="sxs-lookup"><span data-stu-id="2f488-169">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="2f488-170">У следећем дијалогу изаберите **У реду**.</span><span class="sxs-lookup"><span data-stu-id="2f488-170">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="2f488-171">Ток посла **Хибернација** прати ток посла **Процес**.</span><span class="sxs-lookup"><span data-stu-id="2f488-171">A **Sleep** workflow is followed by a **Process** workflow.</span></span> 

> [!NOTE]
> <span data-ttu-id="2f488-172">Можете изабрати и **ProcessRunner** у кораку 5.</span><span class="sxs-lookup"><span data-stu-id="2f488-172">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="2f488-173">Након тога, када изаберете **У реду**, ток посла **Процес** ће бити праћен током посла **Хибернација**.</span><span class="sxs-lookup"><span data-stu-id="2f488-173">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="2f488-174">Токови посла **ProcessRunCaller** и **ProcessRunner** креирају фактуре.</span><span class="sxs-lookup"><span data-stu-id="2f488-174">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="2f488-175">**ProcessRunCaller** позива **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="2f488-175">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="2f488-176">**ProcessRunner** је ток посла који заправо креира фактуре.</span><span class="sxs-lookup"><span data-stu-id="2f488-176">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="2f488-177">Ток посла пролази кроз све предмете уговора за које се морају креирати фактуре и креира фактуре за те предмете.</span><span class="sxs-lookup"><span data-stu-id="2f488-177">The workflow goes through all the contract lines that invoices must be created for, and creates invoices for those lines.</span></span> <span data-ttu-id="2f488-178">Да би одредио предмете уговора за које фактуре морају бити креиране, посао тражи датуме покретања фактурисања за предмете уговора.</span><span class="sxs-lookup"><span data-stu-id="2f488-178">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="2f488-179">Ако предмети уговора који припадају једном уговору имају исти датум покретања фактурисања, трансакције се комбинују у једну фактуру која има две ставке фактуре.</span><span class="sxs-lookup"><span data-stu-id="2f488-179">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="2f488-180">Ако не постоје трансакције за које треба креирати фактуре, посао прескаче креирање фактуре.</span><span class="sxs-lookup"><span data-stu-id="2f488-180">If there are no transactions to create invoices for, the job skips creating an invoice.</span></span>

<span data-ttu-id="2f488-181">Након што се **ProcessRunner** покрене, он позива **ProcessRunCaller**, обезбеђује време завршетка и затвара се.</span><span class="sxs-lookup"><span data-stu-id="2f488-181">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="2f488-182">**ProcessRunCaller** затим покреће тајмер који ће бити покренут током периода од 24 часа од одређеног времена завршетка.</span><span class="sxs-lookup"><span data-stu-id="2f488-182">**ProcessRunCaller** then starts a timer that runs for 24-hours from the specified end time.</span></span> <span data-ttu-id="2f488-183">На крају тајмера **ProcessRunCaller** се затвара.</span><span class="sxs-lookup"><span data-stu-id="2f488-183">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="2f488-184">Посао групне обраде за креирање фактура је периодични посао.</span><span class="sxs-lookup"><span data-stu-id="2f488-184">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="2f488-185">Ако се ова групна обрада покреће више пута, креира се више инстанци посла и изазивају грешке.</span><span class="sxs-lookup"><span data-stu-id="2f488-185">If this batch process is run many times, multiple instances of the job are created and causes errors.</span></span> <span data-ttu-id="2f488-186">Због тога би требало само једном да покренете групну обраду и да је поново покренете само ако престане да ради.</span><span class="sxs-lookup"><span data-stu-id="2f488-186">Therefore, you should start the batch process only one time, and then restart only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="2f488-187">Групно фактурисање у услузи Project Operations се изводи само за предмете уговора о пројекту који су конфигурисани према распоредима фактура.</span><span class="sxs-lookup"><span data-stu-id="2f488-187">Batch invoicing in Project Operations only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="2f488-188">Предмет уговора са начином наплате уз фиксну цену мора да има конфигурисане контролне тачке.</span><span class="sxs-lookup"><span data-stu-id="2f488-188">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="2f488-189">Предмет уговора за пројекат са начином наплате времена и материјала треба да успостави распоред фактура на основу датума.</span><span class="sxs-lookup"><span data-stu-id="2f488-189">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]