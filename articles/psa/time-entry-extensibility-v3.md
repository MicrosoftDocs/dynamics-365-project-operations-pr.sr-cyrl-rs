---
title: Прилагођавање седмичне ставке времена
description: Ова тема пружа информације о томе како имплементирати прилагођена пословна правила која подржавају праксе организације.
author: stsporen
ms.custom:
- dyn365-projectservice
ms.date: 07/09/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: fa2ef927e0234919ee4777f24c60569fb33a8570f6d48be6aef356df4f08a6e7
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 08/06/2021
ms.locfileid: "7002304"
---
# <a name="customize-weekly-time-entry"></a>Прилагођавање седмичне ставке времена 

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

У апликацији Microsoft Dynamics 365 Project Service Automation верзије 3.3, Microsoft је увео модерну мрежу која омогућава ресурсима за пројекте да брзо и одједном уносе време за највише недељу дана. Нова мрежа седмичних ставки времена може приказати укупан број ставки по датуму, редовима или недељама. Ресурси могу да направе копије ставки времена у оквиру недеље, а такође и да групно копирају ставке из претходних недеља. Особе које прилагођавају систем могу прилагодити приказ додавањем поља, додавањем проналажења другим ентитетима и применом прилагођених пословних правила која подржавају праксе њихове организације.

Ставци времена и новој мрежи за временски период од недељу дана приступа се путем мапе локације. Искуство непрошириве прилагођене ставке времена које је било део ранијих верзија апликације PSA замењено је проширивом мрежом за седмичну ставку времена, а такође и алтернативним искуством у мрежи и календару само за читање. Због ове промене корисници могу уносити време у недељама.

## <a name="page-layout"></a>Распоред странице
Нова мрежа седмичних ставки времена је прилагођена контрола која садржи траку са алаткама и два главна одељка, **Димензије** и **Трајање**. Трака са алаткама садржи дугме које се односи само на ову прилагођену контролу за мрежу ставке времена. За разлику од тога, дугмад у окну са радњама на врху странице примењују се на три врсте контрола које су подржане за ставку времена: контролу седмичне ставке времена, контролу само за читање и контролу календара.

### <a name="dimensions"></a>Димензије
Одељак **Димензије** приказује, као називе колона, све димензије за које се време може унети. Следеће димензије су подржане као унапред дефинисане:

- Пројекат
- Пројектни задатак
- Улога
- Тип
- Статус ставке

Одељак **Димензије** не дозвољава унутрашње уређивање. Овај одељак је подржан приказом који омогућава да се прилагођена поља додају у мрежу седмичних ставки времена. Информације о додавању прилагођених поља потражите у одељку „Проширивост“ касније у овој теми.

### <a name="duration"></a>Трајање
Одељак Трајање приказује дане у недељи као заглавља колона. Овај одељак омогућава унутрашње уређивање. Након што се креира ред за ставку времена који има одговарајуће димензије, корисници могу унутра брзо унети количину времена коју су утрошили за те димензије.

## <a name="create-a-new-time-entry"></a>Креирање нове ставке времена
Да бисте креирали нову ставку времена у мрежи ставке времена, изаберите **Нова**. Појавиће се дијалог **Брзо креирање ставке времена**. У овом дијалогу, корисници могу одабрати датум ставке времена, а затим унети податке за димензије **Пројекат**, **Пројектни задатак**, **Улога** и **Трајање** у минутима, сатима или данима уносом **с**, **м** или **д**, заједно са бројем. Корисници такође могу унети опис и коментаре који се могу делити екстерно за ставку времена. Када корисници сачувају своје промене, вредности које су унели за димензије се појављују у одељку **Димензије**. Информације о трајању које су унели у поље **Трајање** се појављују за датум за који је креирана ставка времена.

Поља за проналажење подржавају системски прикази. На пример, након што корисник унесе пројекат, поље **Пројектни задатак** се подразумевано подешава на приказ **Копирање**. Да бисте креирали ставке времена за задатке који нису додељени кориснику, изаберите **Промени приказ** у дијалогу за претраживање, а затим изаберите **Сви задаци активног пројекта**.

## <a name="edit-a-time-entry"></a>Уређивање ставке времена
Детаљи из неких поља на страници за ставку времена, као што су **Опис** и **Спољни коментари**, нису приказани у мрежи седмичних ставки времена. Уместо тога, у ћелијама трајања појављује се мали троугласти индикатор који има ове додатне детаље. Изаберите ћелију, а затим изаберите **Уређивање детаља** да бисте прегледали податке у окну **Брзо уређивање**. Да би изменили или ажурирали детаље за одређену ставку времена који није део мреже седмичних ставки времена, корисници морају да отворе окно **Брзо уређивање**.

## <a name="copy-a-time-entry-row"></a>Копирање реда ставке времена
Након што је креиран први ред ставке времена, корисници могу да изаберу **Копирај ред** да би ископирали цео ред у нови ред. Када се ред копира на овај начин, димензије и трајање се такође копирају. Корисници такође могу да изаберу **Измени ред** да би ажурирали вредности димензија и трајања у одељку **Трајање**.

## <a name="open-a-time-entry"></a>Отварање ставке времена
Да би подржао оптималан и брз унос у најистакнутија поља, мрежа седмичних ставки времена показује подскуп одабраних димензија и трајања времена. Да бисте видели све детаље једне ставке времена, у делу **Измена ставке** одаберите **Отвори**.

## <a name="submit-a-time-entry"></a>Прослеђивање ставке времена
Корисници могу проследити једну ставку времена или групу ставки времена избором блока ћелија или целог реда ставке времена, а затим избором опције **Проследи**. Прослеђене ставке времена појављују се као ставке које чекају одобрење на страници даваоца одобрења **Одобрење**. Након успешног прослеђивања ставки времена, оне се не могу уређивати.

## <a name="recall-a-time-entry"></a>Опозивање ставке времена
Можете опозвати ставке времена које сте проследили. Можете да опозовете једну ставку времена, блок ставки времена или читав ред ставки времена. Опозване ставке времена доступне су ресурсима за уређивање.

## <a name="time-entry-status"></a>Статус ставке времена
Новим ставкама времена аутоматски се додељује статус **Радна верзија**. Када се проследи ставка времена, статус се ажурира на **Прослеђена**. Када се прослеђена ставка времена одобри, статус се ажурира на **Одобрена**. Ако је ставка времена одбијена, статус се ажурира на **Враћена** и ставка постаје доступна за исправку и поновно прослеђивање. Само ставке времена које имају статус **Радна верзија** можете да избришете.

## <a name="view-rejection-comments"></a>Преглед коментара о одбацивању
Када давалац одобрења одбаци ставку времена, може да дода коментаре о одбацивању како би помогао ресурсу да схвати разлог одбацивања. Да бисте видели коментаре о одбацивању ставке времена, изаберите **Отвори ставку**. Коментари о одбацивању биће приказани на временској оси. У временској оси, ресурс може да одговори на коментаре о одбацивању пре него што поново проследи ставку.

## <a name="copy-week"></a>Копирање седмице
Након креирања неколико ставки времена, корисници могу да изаберу **Копирање седмице** да би групно креирали додатне ставке времена. Појављује се дијалог **Копирање**. У одељку **Из периода** користите поља **Датум почетка** и **Датум завршетка** за дефинисање опсега датума из којег треба копирати ставке времена. У одељку **У период**, у пољу **Датум почетка**, одредите датум за који ћете креирати ставке времена. Затим изаберите **Копирај**. За одређени датум у „У“ периоду креира се копија ставки времена за одговарајући дан у недељи у „Из“ периоду. На пример, ставка времена за понедељак из прошле недеље се копира у понедељак оне седмице која је наведена као „У“ период.

## <a name="import"></a>Увоз
Исти основни поступак користи се за увоз из резервација, додела и размена. Корисници могу одредити опсег датума из којег се увозе резервације. Затим морају изричито изабрати резервације које треба копирати у радне верзије ставки времена. У претходном издању, предложене ставке времена су се приказивали у мрежи и календару и били изгубљени приликом освежавања сесије.

## <a name="extensibility"></a>Проширивост
### <a name="add-custom-fields-that-have-lookups-to-other-entities"></a>Додавање прилагођених поља која садрже претраживања у друге ентитете
Три су главна корака за додавање прилагођеног поља у мрежу седмичних ставки времена.

1.  Додајте прилагођено поље у дијалог за брзо креирање.
2.  Конфигуришите мрежу да приказује прилагођено поље.
3.  По потреби додајте прилагођено поље у ток задатака уређења реда или ток задатака уређења ћелије.

Морате такође бити сигурни да ново поље има потребне потврде у току задатака уређења реда или ћелије. Као део овог корака морате закључати поље на основу статуса ставке времена.

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>Додавање прилагођеног поља у дијалог за брзо креирање
Морате додати прилагођено поље у дијалог за брзо креирање ставке времена. Тако ће корисници моћи да унесу вредност поља када додају ставке времена кликом на дугме **Нова**.

#### <a name="configure-the-grid-to-show-the-custom-field"></a>Конфигурисање мреже за приказ прилагођеног поља
Прилагођено поље можете да додате на два начина у мрежу седмичних ставки времена. Прва опција је да прилагодите приказ **Моје седмичне ставке времена** и додате му прилагођено поље. Можете одабрати положај и величину прилагођеног поља у мрежи уређивањем тих својстава у приказу.

Друга опција је креирање новог прилагођеног приказа ставке времена и његово подешавање као подразумеваног приказа. Овај приказ треба да садржи поља **Опис** и **Спољни коментари**, поред колона које желите да имате на мрежи. Можете одабрати положај, величину и подразумевани редослед сортирања у мрежи уређивањем тих својстава у приказу. Затим конфигуришите прилагођену контролу за овај приказ тако да то буде контрола **Мрежа ставке времена**. Додајте ову контролу у приказ и одаберите је за веб, телефон и таблет. Затим конфигуришите параметре за мрежу седмичних ставки времена. Подесите поље **Датум почетка** на **msdyn_date**, подесите поље **Трајање** на **msdyn_duration**, а **Статус** на **msdyn_entrystatus**. За подразумевани приказ, поље **Листа статуса само за читање** је подешено на **192350002,192350003,192350004**, поље **Ток задатака уређења реда** на **msdyn_timeentryrowedit**, а поље **Ток задатака уређења ћелије** на **msdyn_timeentryedit**. Ова поља можете прилагодити да бисте додали или уклонили статус само за читање или користили друго искуство засновано на задацима за уређивање редова или ћелија. Ова поља треба да буду везана за статичку вредност.

#### <a name="add-the-custom-field-to-the-appropriate-edit-task-flow"></a>Додавање прилагођеног поља у одговарајући ток задатка за уређивање
Странице које пружају искуство засновано на задацима, које се користе за уређивање, можете пронаћи у делу **Процеси**. Подразумеване странице су **Project Service – Уређивање реда ставке времена** и **Project Service – Уређивање ставки времена**. Можете да измените ове подразумеван странице или да креирате нове странице које пружају искуство засновано на задацима.

> [!NOTE] 
> Обе опције ће уклонити неко унапред дефинисано филтрирање за ентитете **Пројекат** и **Пројектни задатак**, тако да ће сви прикази проналажења ентитета бити видљиви. Као унапред дефинисани су видљиви само релевантни прикази проналажења.

Морате одредити одговарајући ток задатака за прилагођено поље. Највјероватније, ако сте додали поље у мрежу, оно би требало да иде у ток задатака уређења реда који се користи за поља која се примјењују на цели ред са ставкама времена. Ако прилагођено поље има јединствену вредност сваког дана, као што је прилагођено поље за **Време завршетка**, требало би да иде у ток задатака уређења ћелије.

Да бисте додали прилагођено поље у ток задатака, превуците елемент **Поље** у одговарајућу позицију на страници, а затим подесите његова својства. Подесите својство **Извор** на **Ставка времена**, а својство **Поље података** на прилагођено поље. Својство **Поље** одређује име за приказ на страници која пружа искуство засновано на задацима. Изаберите **Примени** да бисте сачували промене поља. Затим изаберите **Ажурирај** да бисте сачували промене странице.

Да бисте уместо тога користили нову прилагођену страницу која пружа искуство засновано на задацима, креирајте нови поступак. Подесите категорију на **Ток пословног процеса**, ентитет на **Ставка времена**, а врсту пословног процеса на **Покрени процес као ток задатака**. У делу **Својства**, својство **Назив странице** треба да подесите на име за приказ на страници. На страницу која пружа искуство засновано на задацима додајте сва релевантна поља. Сачувајте и активирајте поступак, а затим ажурирајте својство прилагођене контроле за одговарајући ток задатака на вредност **Име** за процес.

### <a name="add-new-option-set-values"></a>Додавање нових вредности скупа опција
Да бисте додали вредности скупа опција у унапред дефинисано поље, отворите страницу за уређивање поља, а затим у делу **Тип** одаберите **Уреди** поред скупа опција. Затим додајте нову опцију која има прилагођену ознаку и боју. Ако желите да додате нови статус ставке времена, унапред дефинисано поље се зове **Статус ставке**, а не **Статус**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>Означавање статуса нове ставке времена као само за читање
Да бисте означили статус нове ставке времена као само за читање, додајте вредност нове ставке времена (број, а не ознаку) у својство **Листа статуса само за читање**. Део мреже ставке времена који може да се уређује биће закључан за редове који имају нови статус.
Затим додајте пословна правила да бисте закључали сва поља на страницама **Уређивање реда ставке времена** и **Уређивање ставке времена** које пружају искуство засновано на задацима. Пословним правилима за ове странице можете приступити тако што ћете отворити уређивач тока пословног процеса за страницу и изабрати **Пословна правила**. Нови статус можете додати у услов постојећих пословних правила или можете додати ново пословно правило за нови статус.

### <a name="add-custom-validation-rules"></a>Додавање прилагођених правила за проверу ваљаности
Постоје две врсте правила за проверу ваљаности која можете додати искуству коришћења мреже седмичних ставки времена: •   Пословна правила на страни клијента која функционишу у дијалозима за брзо креирање и на страницама које пружају искуство засновано на задацима •   Провера ваљаности додатних компоненти на страни сервера која се примењује на исправке свих ставки времена

#### <a name="business-rules"></a>Пословна правила
Употребите пословна правила за закључавање и откључавање поља, унесите подразумеване вредности у поља и дефинишите валидације које захтевају информације само из тренутног записа ставке времена. Пословним правилима за страницу која пружа искуство засновано на задацима можете приступити тако што ћете отворити уређивач тока пословног процеса за страницу и изабрати **Пословна правила**. Затим можете да измените постојећа пословна правила или додате ново пословно правило. За још прилагођеније провере ваљаности, можете да покренете JavaScript помоћу пословног правила.

#### <a name="plug-in-validations"></a>Провере ваљаности додатних компоненти
Треба да користите валидације додатних компоненти за све валидације за које је потребно више контекста него што је доступно у једном запису ставке времена или за било какве валидације које желите да покренете изнутра за ажурирања мреже. Да бисте довршили проверу ваљаности, направите прилагођену додатну компоненту у ентитету **Ставка времена**.

> [!IMPORTANT] 
> Тренутно познати проблем на страницама које пружају искуство засновано на задацима спречавају кориснике да исправљају информације и поново изаберу Готово када не успе провера ваљаности додатне компоненте приликом ажурирања. Као заобилазно решење, подесите валидације пословних правила како бисте спречили ову ситуацију колико је то могуће.


[!INCLUDE[footer-include](../includes/footer-banner.md)]