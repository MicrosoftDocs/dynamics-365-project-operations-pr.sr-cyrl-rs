---
title: Перформансе API-ја за распоред пројеката
description: Ова тема пружа информације о референтним вредностима перформанси АPI-ја за распоред пројеката и идентификује најбоље праксе за оптималну употребу.
author: ruhercul
ms.date: 11/03/2021
ms.topic: article
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: a1abadbae044ccbd40077c6937262f0f17387bad
ms.sourcegitcommit: 5c536cf05e2cbfc1d15982e4695d726064a074da
ms.translationtype: MT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 11/04/2021
ms.locfileid: "7750620"
---
# <a name="project-schedule-api-performance"></a>Перформансе API-ја за распоред пројеката

_**Односи се на:** Project Operations за ресурс/сценарије који нису засновани на залихама, једноставну имплементацију – погодбу о предрачунима, Project for the Web_

Ова тема пружа информације о референтним вредностима перформанси интерфејса за програмирање апликација (АPI-ја) за распоред пројеката и идентификује најбоље праксе за оптимизацију коришћења.

## <a name="project-scheduling-service"></a>Услуга планирања пројекта
Услуга планирања пројекта је услуга са више закупаца која се покреће у услузи Microsoft Azure. Дизајниран је да побољша интеракцију пружањем брзог и течног искуства када корисници раде на пројектима. Ово побољшање је постигнуто прихватањем захтева за промену, њиховом обрадом, а затим одмах враћањем резултата. Услуга асинхроно траје на услузи Dataverse и не блокира кориснике да обављају друге операције.

API-ји за распоред пројекта се ослањају на то да услуга планирања пројеката покреће захтеве који су детаљније описани у каснијим одељцима ове теме.

API-ји распореда пројеката су дизајнирани за рад са следећим ентитетима структурне анализе посла (САП):

  - Project
  - Пројектни задатак
  - Зависност пројектног задатка
  - Члан пројектног тима
  - Додела ресурса
  
Подржана су и готова поља и прилагођена поља. Осим ако није другачије назначено, подржане су све уобичајене операције, као што су креирање, ажурирање и брисање. Више информација потражите у чланку [Коришћење API-ја за распоред пројеката за извршавање операција и планирање ентитета](schedule-api-preview.md).

У склопу API-ја за распоред пројекта, додат је образац радне јединице. Овај образац је познат као OperationSet, и може се користити када неколико захтева мора бити обрађено у једној трансакцији.

Следећа илустрација приказује ток који ће партнер искусити када се ова функција користи.

![Dataverse и ток услуге планирања пројекта.](./media/dataverse-project-scheduling-service-flow.png)

**1 корак**: Клијент упућује API позив крајњој тачки отвореног протокола за податке (OData) у услузи Dataverse како би креирао OperationSet.

**2. корак**: Након креирања новог OperationSet, враћа се вредност **OperationSetId**.

**3. корак**: Клијент користи вредност **OperationSetId** да би направио још један API захтев за распоред пројекта. Резултат је захтев за креирање, ажурирање или брисање ентитета за заказивање. Када се овај захтев упути, врши се провера ваљаности метаподатака. Ако провера ваљаности не успе, захтев се прекида и враћа се грешка.

**Кораци 4a–4c**: Ови кораци представљају фазу ПРИХВАТАЊА. Клијент позива **ExecuteOperationSetV1** API, који шаље све промене у услугу планирања пројекта у једној групи. Услуга планирања пројекта покреће сопствене провере ваљаности на захтеве у групи. Све грешке приликом провере ваљаности опозивају групу и враћају изузетак позиваоцу. Ако је услуга планирања пројекта успешно прихватила групу, OperationSet статус се ажурира тако да одражава чињеницу да услугу OperationSet обрађује услуга планирања пројекта.

**5. корак**: Овај корак представља фазу ТРАЈАЊЕ. Услуга планирања пројекта асинхроно уписује групу у услугу Dataverse у једној трансакцији. Ако операција писања буде успешна, OperationSet се означава као **Довршено**. Све грешке враћају трансакцију и групу, а OperationSet се означава као **Неуспешно**.

## <a name="performance-methodology"></a>Методологија перформанси
Време извршавања се дефинише као време од позива API-ју **ExecuteOperationSetV1** све док услуга планирања пројекта не заврши писање у услугу Dataverse. Све операције раде комбиновано 2.200 пута, а пријављена су и мерења времена извршења P99. Мере се операције са једним записом, као и масовне операције.

За операцију са једним записом, OperationSet садржи један захтев. За масовне операције, он садржи 20, 50 или 100 захтева. Свака величина групе се посебно извештава.

Ове операције се покрећу на UR 15 Project Operations Lite примени у Северној Америци.

## <a name="results"></a>Резултати
### <a name="create-operations"></a>Креирање операција
#### <a name="single-record-create-operations"></a>Операције креирања једног записа
Следећа табела приказује времена извршавања за креирање једног записа. Времена су у секундама.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Тип&nbsp;&nbsp;&nbsp;записа</th>
    <th class="tg-0lax" colspan="2">Време</th>
  </tr>
  <tr>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Project</td>
    <td class="tg-0lax">2.5</td>
    <td class="tg-0lax">3.78</td>
  </tr>
  <tr>
    <td class="tg-0lax">Задатак</td>
    <td class="tg-0lax">8.82</td>
    <td class="tg-0lax">9.34</td>
  </tr>
  <tr>
    <td class="tg-0lax">Додела</td>
    <td class="tg-0lax">9.19</td>
    <td class="tg-0lax">9.19</td>
  </tr>
  <tr>
    <td class="tg-0lax">Члан тима</td>
    <td class="tg-0lax">0.84</td>
    <td class="tg-0lax">4.2</td>
  </tr>
  <tr>
    <td class="tg-0lax">Зависност</td>
    <td class="tg-0lax">8.84</td>
    <td class="tg-0lax">8.84</td>
  </tr>
</tbody>
</table>

#### <a name="bulk-create-operations"></a>Операције масовног креирања
Следећа табела приказује времена извршавања за креирање много записа. Конкретно, Microsoft је измерио времена извршавања за креирање 20, 50 и 100 записа у једном OperationSet. Времена су у секундама.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="3">Тип&nbsp;&nbsp;&nbsp;записа</th>
    <th class="tg-0lax" colspan="6">Време</th>
  </tr>
  <tr>
    <th class="tg-0lax" colspan="2">20 записа</th>
    <th class="tg-0lax" colspan="2">50 записа</th>
    <th class="tg-0lax" colspan="2">100 записа</th>
  </tr>
  <tr>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Задатак</td>
    <td class="tg-0lax">19.92</td>
    <td class="tg-0lax">38.35</td>
    <td class="tg-0lax">36.67</td>
    <td class="tg-0lax">99.13</td>
    <td class="tg-0lax">116.77</td>
    <td class="tg-0lax">174.06</td>
  </tr>
  <tr>
    <td class="tg-0lax">Додела</td>
    <td class="tg-0lax">13.94</td>
    <td class="tg-0lax">13.94</td>
    <td class="tg-0lax">43.95</td>
    <td class="tg-0lax">43.95</td>
    <td class="tg-0lax">69.38</td>
    <td class="tg-0lax">69.38</td>
  </tr>
  <tr>
    <td class="tg-0lax">Зависност</td>
    <td class="tg-0lax">30.04</td>
    <td class="tg-0lax">30.04</td>
    <td class="tg-0lax">77.82</td>
    <td class="tg-0lax">77.82</td>
    <td class="tg-0lax">176.89</td>
    <td class="tg-0lax">176.89</td>
  </tr>
</tbody>
</table>

> [!NOTE] 
> Операције масовног креирања над ентитетима **Пројекат** и **Члан тима** нису уврштене у ову табелу, јер време извршавања за те операције наликује времену извршавања када се API за креирање једног записа позива више пута. Ови API-ји се одмах покрећу у услузи Dataverse.

Следећа илустрација приказује сценарио времена извршавања за ентитете **Задатак**, **Додела** и **Зависност** када се креира 20, 50 и 100 записа и када се користе сва подржана поља.

![Креирајте графикон времена извршавања записа.](./media/create-record-execution-time.png)

### <a name="update-operations"></a>Ажурирање операција
#### <a name="single-record-update-operations"></a>Операције ажурирања једног записа
Следећа табела приказује времена извршавања за ажурирање једног записа. Времена су у секундама.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Тип&nbsp;&nbsp;&nbsp;записа</th>
    <th class="tg-0lax" colspan="2">Време</th>
  </tr>
  <tr>
    <th class="tg-0lax">Обавезна поља </th>
    <th class="tg-0lax">Сва подржана поља</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Project</td>
    <td class="tg-0lax">9.53</td>
    <td class="tg-0lax">13.91</td>
  </tr>
  <tr>
    <td class="tg-0lax">Задатак</td>
    <td class="tg-0lax">8.82</td>
    <td class="tg-0lax">9.91</td>
  </tr>
  <tr>
    <td class="tg-0lax">Члан тима</td>
    <td class="tg-0lax">9</td>
    <td class="tg-0lax">8.96</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Операције ажурирања за ентитете **Доделе ресурса** и **Зависност пројектног задатка** нису подржане.

#### <a name="bulk-update-operations"></a>Операције масовног ажурирања
Следећа табела приказује времена извршавања за ажурирања много записа. Конкретно, Microsoft је измерио времена извршавања за ажурирања 20, 50 и 100 записа у једном OperationSet. Времена су у секундама.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="3">Тип&nbsp;&nbsp;&nbsp;записа</th>
    <th class="tg-0lax" colspan="6">Време</th>
  </tr>
  <tr>
    <th class="tg-0lax" colspan="2">20 записа</th>
    <th class="tg-0lax" colspan="2">50 записа</th>
    <th class="tg-0lax" colspan="2">100 записа</th>
  </tr>
  <tr>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
    <th class="tg-0lax">Обавезна поља</th>
    <th class="tg-0lax">Сва подржана поља</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Задатак</td>
    <td class="tg-0lax">8.91</td>
    <td class="tg-0lax">38.71</td>
    <td class="tg-0lax">20.92</td>
    <td class="tg-0lax">87.13</td>
    <td class="tg-0lax">36.68</td>
    <td class="tg-0lax">190.34</td>
  </tr>
  <tr>
    <td class="tg-0lax">Члан тима</td>
    <td class="tg-0lax">20.52</td>
    <td class="tg-0lax">26.06</td>
    <td class="tg-0lax">41.93</td>
    <td class="tg-0lax">44.51</td>
    <td class="tg-0lax">38.63</td>
    <td class="tg-0lax">66.53</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Операције ажурирања за ентитете **Доделе ресурса** и **Зависност пројектног задатка** нису подржане.

Следећа илустрација приказује сценарио времена извршавања за ентитете Задатак, и Члан тима када се ажурира 20, 50 и 100 записа и када се користе сва подржана поља.

![Ажурирајте графикон времена извршавања записа.](./media/update-record-execution-time.png)

### <a name="delete-operations"></a>Операције брисања
#### <a name="single-record-delete-operations"></a>Операције брисања једног записа
Следећа табела приказује времена извршавања за брисање једног записа. Времена су у секундама.

| Врста записа | Време  |
|-------------|-------|
| Задатак        | 20.12 |
| Додела  | 10.86 |
| Члан тима | 12.52 |
| Зависност  | 20.89 |

> [!NOTE]
> Операције брисања над ентитетом **Пројекат** нису подржане.

#### <a name="bulk-delete-operations"></a>Операције масовног брисања
Следећа табела приказује времена извршавања за брисање много записа. Конкретно, Microsoft је измерио времена извршавања за брисање 20, 50 и 100 записа у једном OperationSet. Времена су у секундама.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Тип&nbsp;&nbsp;&nbsp;записа</th>
    <th class="tg-0lax" colspan="3">Време</th>
  </tr>
  <tr>
    <th class="tg-0lax">20 записа</th>
    <th class="tg-0lax">50 записа</th>
    <th class="tg-0lax">100 записа</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Задатак</td>
    <td class="tg-0lax">20.91</td>
    <td class="tg-0lax">67.43</td>
    <td class="tg-0lax">71.96</td>
  </tr>
  <tr>
    <td class="tg-0lax">Додела</td>
    <td class="tg-0lax">11.75</td>
    <td class="tg-0lax">25.79</td>
    <td class="tg-0lax">47.66</td>
  </tr>
  <tr>
    <td class="tg-0lax">Члан тима</td>
    <td class="tg-0lax">9.78</td>
    <td class="tg-0lax">39.73</td>
    <td class="tg-0lax">24.33</td>
  </tr>
  <tr>
    <td class="tg-0lax">Зависност</td>
    <td class="tg-0lax">24.61</td>
    <td class="tg-0lax">54.9</td>
    <td class="tg-0lax">109.16</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Операције брисања над ентитетом **Пројекат** нису подржане.

Следећа илустрација приказује сценарио времена извршавања за ентитете **Задатак**, **Додела**, **Члан тима** и **Зависност** када се брише 20, 50 и 100 записа.

![Бришите графикон времена извршавања записа.](./media/delete-record-execution-time.png)

## <a name="observations"></a>Запажања
За сваку операцију записа, API-ју **ExecuteOperationSet** је потребно око 800 милисекунди да пошаље захтев слузи планирања пројекта. Услузи планирања пројекта затим треба око пет секунди за обраду корисног оптерећења и позивање услуге Dataverse. Остатак времена извршавања се троши на вођење пословне логике и писање података у базу података у програму Dataverse.

Када се 100 записа креира, ажурира или избрише, API-ју **ExecuteOperationSet** је потребно око три секунде да пошаље захтев услузи планирања пројекта. Услузи планирања пројекта затим треба око пет секунди за обраду захтева и позивање услуге Dataverse. Масовне операције морају једнократно да плате **порез на услугу планирања пројекта** за све записе у OperationSet-у. Због тога масовне операције имају знатно ниже просечно време извршавања од операција са једним записом.

## <a name="scenarios"></a>Сценарији
Следећа табела приказује време извршавања када се API-ју планирања пројекта користе за извршавање одређених сценарија. Времена су у секундама.

| Сценарио                                                                   | Време  |
|----------------------------------------------------------------------------|-------|
| Креирајте пројекат који има 40 задатака.                                      | 36.01 |
| Креирајте пројекат који има 40 задатака и 20 зависности.                  | 38.11 |
| Креирајте пројекат који има 40 задатака и 30 додела.                   | 60.17 |
| Креирајте пројекат који има 40 задатака, 20 зависности и 30 додела. | 60.27 |

## <a name="best-practices"></a>Најбољи примери из праксе
На основу резултата претходних сценарија, перформансе API-ја су боље у следећим условима:

  - Групишите што више операција заједно. Просечно време извршавања за масовне операције је боље од просечног времена извршавања за операције са једним записом. Што је мањи број OperationSets који се користе, то ће време извршавања бити брже.
  - Подесите само минималне атрибуте који су потребни за остваривање вашег сценарија. Будите селективни у погледу типова поља која нису потребна у захтеву за OperationSet. Поља која садрже стране кључеве или поља збирне вредности негативно ће утицати на перформансе.
