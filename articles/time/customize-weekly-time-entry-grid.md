---
title: Проширење ставки времена
description: Ова тема пружа информације о томе како програмери могу да прошире контролу ставки времена.
author: stsporen
manager: Annbe
ms.date: 10/01/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: 93f411ad7c86beefcc35e7799a03987dacdcd62b
ms.sourcegitcommit: 5a29adce48133e09f051929e8544d6c2c93c025d
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 10/02/2020
ms.locfileid: "3930898"
---
# <a name="extending-time-entries"></a>Проширење ставки времена

_**Односи се на:** Project Operations за ресурс/сценарије који нису засновани на залихама, лагану примену – од погодбе до профактуре_

Dynamics 365 Project Operations укључује прилагођену контролу ставки времена. Ова контрола садржи следеће функције:

- Унесите време хоризонтално током недеље
- Укупно по дану, реду или недељи
- Копирајте редове или недеље
- Ставка времена кроз HH:mm или HH.hh (аутоматски се конвертује у HH.hh)
- Увоз из додела, резервација или заказаних обавеза

Продужење уноса времена могуће је у две области:
- [Додајте прилагођене ставке времена за сопствену употребу](#add)
- [Прилагођавање контроле седмичне ставке времена](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>Додајте прилагођене ставке времена за сопствену употребу.

Ставке времена су основни ентитет који је дизајниран да се користи за више сценарија. У 1. таласу за април 2020. представљено је основно решење TESA, које пружа ентитет **Подешавања** и нова безбедносна улога **Корисник ставке времена**. Нова поља, **msdyn_start** и **msdyn_end**, која имају директну везу са **msdyn_duration**, такође су била укључена. Нови ентитет, безбедносна улога, и поља омогућавају јединственији приступ времену у више производа.


### <a name="time-source-entity"></a>Изворни ентитет времена
| Поље | Опис | 
|-------|------------|
| Име  | Назив ставке извора времена који се користи као вредност избора током креирања ставке времена. |
| Подразумевани извор времена [Извор времена: isdefault] | Подразумевано, само један извор времена може бити означен као подразумевани извор времена. Ова могућност омогућава да се за ставке подразумева извор времена ако ниједно време није наведено. |
|Тип извора времена [Извор времена: sourcetype] | Тип извора је опција (Тип ставке извора времена) која омогућава повезивање извора времена са апликацијом. Додатне вредности ће се додати овом скупу опција како се додају додатне апликације. Имајте на уму да Microsoft задржава вредности веће од 190.000.000.|


### <a name="time-entries-and-the-time-source-entity"></a>Ставке времена и Изворни ентитет времена
Свака ставка времена повезана је са записом извора времена. Овај запис одређује како и које апликације треба да обраде ставку времена.

Ставке времена су увек један непрекидни временски блок са повезаним почетком, крајем и трајањем.

Логика ће аутоматски ажурирати запис ставке времена у следећим ситуацијама:

- Ако су наведена два од три следећа поља, треће се израчунава аутоматски 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- Поља **msdyn_start** и **msdyn_end** препознају временску зону.
- Ставке времена креиране само са наведеним пољима **msdyn_date** и **msdyn_duration** почеће у поноћ, а поља **msdyn_start** и **msdyn_end** биће ажурирана у складу с тим.

#### <a name="time-entry-types"></a>Типови ставки времена

Записи ставки времена имају придружени тип који дефинише понашање у току подношења придружене апликације.

|Ознака | Вредност|
|-----|-----|
|На паузи   |192,355,000|
|Путовање | 192,355,001|
|Прековремени рад   | 192,354,320|
|Рад   | 192,350,000|
|Одсуство    | 192,350,001|
|Одмор   | 192,350,002|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>Прилагођавање контроле седмичне ставке времена
Програмери могу додати додатна поља и претраживања другим ентитетима и применити прилагођена пословна правила као подршку њиховим пословним сценаријима.

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>Додавање прилагођених поља са проналажењима у друге ентитете
Три су главна корака за додавање прилагођеног поља у мрежу седмичних ставки времена.

- Додајте прилагођено поље у дијалог за брзо креирање.
- Конфигуришите мрежу да приказује прилагођено поље.
- Додајте прилагођено поље у ток задатака уређења реда или ток задатака уређења ћелије.

Морате такође бити сигурни да ново поље има потребне потврде у току задатака уређења реда или ћелије. Као део овог корака, морате закључати поље на основу статуса ставке времена.

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>Додавање прилагођеног поља у дијалог за брзо креирање
Морате додати прилагођено поље у дијалог **Брзо креирање ставке времена**. Корисници тада могу да унесу вредност када додају ставке времена избором опције **Нова**.

#### <a name="configure-the-grid-to-show-the-custom-field"></a>Конфигурисање мреже за приказ прилагођеног поља
Прилагођено поље можете да додате на два начина у мрежу седмичних ставки времена:

  - Прилагодите приказ и додајте прилагођено поље
  - Креирајте нову подразумевану прилагођену ставку времена 


**Прилагодите приказ и додајте прилагођено поље**

Можете да прилагодите приказ **Моје седмичне ставке времена** и додате му прилагођено поље. Можете одабрати положај и величину прилагођеног поља у мрежи уређивањем тих својстава у приказу.

**Креирајте нову подразумевану прилагођену ставку времена** 

Овај приказ треба да садржи поља **Опис** и **Спољни коментари**, поред колона које желите да имате на мрежи. 

1. Одаберите положај, величину и подразумевани редослед сортирања у мрежи уређивањем тих својстава у приказу. 
2. Конфигуришите прилагођену контролу за овај приказ тако да то буде контрола **Мрежа ставке времена**. 
3. Додајте ову контролу у приказ и одаберите је за веб, телефон и таблет. 
4. Конфигуришите параметре за мрежу седмичних ставки времена. Подесите поље **Датум почетка** на **msdyn_date**, подесите поље **Трајање** на **msdyn_duration**, а **Статус** на **msdyn_entrystatus**. 
5. За подразумевани приказ, поље **Листа статуса само за читање** је подешено на **192350002,192350003,192350004**, поље **Ток задатака уређења реда** на **msdyn_timeentryrowedit**, а поље **Ток задатака уређења ћелије** на **msdyn_timeentryedit**. 
6. Ова поља можете прилагодити да бисте додали или уклонили статус само за читање или користили друго искуство засновано на задацима за уређивање редова или ћелија. Ова поља треба да буду везана за статичку вредност.


> [!NOTE] 
> Обе опције ће уклонити неко унапред дефинисано филтрирање за ентитете **Пројекат** и **Пројектни задатак**, тако да ће сви прикази проналажења ентитета бити видљиви. Као унапред дефинисани су видљиви само релевантни прикази проналажења.
Морате одредити одговарајући ток задатака за прилагођено поље. Највјероватније, ако сте додали поље у мрежу, оно би требало да иде у ток задатака уређења реда који се користи за поља која се примјењују на цели ред са ставкама времена. Ако прилагођено поље има јединствену вредност сваког дана, као што је прилагођено поље за **Време завршетка**, требало би да иде у ток задатака уређења ћелије.

Да бисте додали прилагођено поље у ток задатака, превуците елемент **Поље** у одговарајућу позицију на страници, а затим подесите својства поља. Подесите својство **Извор** на **Ставка времена**, а својство **Поље података** на прилагођено поље. Својство **Поље** одређује име за приказ на страници која пружа искуство засновано на задацима. Изаберите **Примени** да бисте сачували промене у пољу, а затим изаберите **Ажурирај** да бисте сачували промене на страници.

Да бисте уместо тога користили нову прилагођену страницу која пружа искуство засновано на задацима, креирајте нови поступак. Подесите категорију на **Ток пословног процеса**, ентитет на **Ставка времена**, а врсту пословног процеса на **Покрени процес као ток задатака**. У делу **Својства**, својство **Назив странице** треба да подесите на име за приказ на страници. На страницу која пружа искуство засновано на задацима додајте сва релевантна поља. Сачувајте и активирајте поступак, а затим ажурирајте својство прилагођене контроле за одговарајући ток задатака на вредност **Име** за процес.

### <a name="add-new-option-set-values"></a>Додавање нових вредности скупа опција
Да бисте додали вредности скупа опција у унапред дефинисано поље, отворите страницу за уређивање поља, а затим у делу **Тип** одаберите **Уреди** поред скупа опција. Затим додајте нову опцију која има прилагођену ознаку и боју. Ако желите да додате нови статус ставке времена, унапред дефинисано поље се зове **Статус ставке**, а не **Статус**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>Означавање статуса нове ставке времена као само за читање
Да бисте означили статус нове ставке времена као само за читање, додајте вредност нове ставке времена у својство **Листа статуса само за читање**. Део мреже ставке времена који може да се уређује биће закључан за редове који имају нови статус.
Затим додајте пословна правила да бисте закључали сва поља на страницама **Уређивање реда ставке времена** и **Уређивање ставке времена** које пружају искуство засновано на задацима. Пословним правилима за ове странице можете приступити тако што ћете отворити уређивач тока пословног процеса за страницу и изабрати **Пословна правила**. Нови статус можете додати у услов постојећих пословних правила или можете додати ново пословно правило за нови статус.

### <a name="add-custom-validation-rules"></a>Додавање прилагођених правила за проверу ваљаности
Постоје две врсте правила за валидацију које можете додати за седмично искуство мреже с уносом времена:

- Пословна правила на страни клијента која раде у дијалозима за брзо креирање и на TBX страницама.
- Провере ваљаности додатних компоненти на страни сервера која се примењују на сва ажурирања ставки времена.

#### <a name="business-rules"></a>Пословна правила
Употребите пословна правила за закључавање и откључавање поља, унесите подразумеване вредности у поља и дефинишите валидације које захтевају информације само из тренутног записа ставке времена. Пословним правилима за страницу која пружа искуство засновано на задацима можете приступити тако што ћете отворити уређивач тока пословног процеса за страницу и изабрати **Пословна правила**. Затим можете да измените постојећа пословна правила или додате ново пословно правило. За још прилагођеније провере ваљаности, можете да покренете JavaScript помоћу пословног правила.

#### <a name="plug-in-validations"></a>Провере ваљаности додатних компоненти
Треба да користите валидације додатних компоненти за све валидације за које је потребно више контекста него што је доступно у једном запису ставке времена или за било какве валидације које желите да покренете изнутра за ажурирања мреже. Да бисте довршили проверу ваљаности, направите прилагођену додатну компоненту у ентитету **Ставка времена**.
